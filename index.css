@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-white dark:bg-[#0a0a0a] overflow-x-hidden font-sans;
  }
  h1, h2, h3, .serif {
    font-family: 'Cormorant Garamond', serif;
  }
}

/* ============================================================
   MARKDOWN 排版修正
   ============================================================ */

.prose img {
  display: inline-block !important;
  margin-top: 0.2rem !important;
  margin-bottom: 0.2rem !important;
  margin-left: 0.125rem !important;
  margin-right: 0.125rem !important;
  vertical-align: middle;
  border-radius: 2px;
}

/* ============================================================
   极简图书展示架 (Book Shelf) - UI 升级版
   ============================================================ */

.book-shelf {
  @apply flex gap-6 md:gap-10 mb-16 overflow-x-auto no-scrollbar pb-4 -mx-2 px-2 snap-x snap-mandatory !important;
}

.book-card {
  @apply flex-none w-[120px] md:w-[150px] snap-start !important;
}

.book-cover-wrapper {
  @apply relative aspect-[3/4.2] mb-4 overflow-hidden rounded-sm bg-gray-50 dark:bg-neutral-900 border border-gray-100 dark:border-neutral-800 transition-all duration-500 group-hover:shadow-xl group-hover:-translate-y-1.5 !important;
}

.book-cover-img {
  /* 确保完全彩色，不使用 grayscale */
  @apply w-full h-full object-cover opacity-100 filter-none transition-all duration-700 !important;
  filter: none !important; 
}

.book-title {
  /* 针对低分辨率优化：增加字重，稍微加大字号，改用更稳重的排版 */
  @apply font-serif font-semibold text-[15px] md:text-[16px] text-neutral-900 dark:text-neutral-100 leading-tight mb-1.5 truncate tracking-tight !important;
}

.book-meta {
  /* 作者字号进一步调大，并增加对比度 */
  @apply text-[12px] md:text-[13px] tracking-normal text-gray-500 dark:text-neutral-400 font-normal leading-snug mb-3 !important;
}

.book-progress-info {
  @apply flex items-center justify-between mb-1.5 px-0.5 !important;
}

.book-progress-label {
  @apply text-[9px] uppercase tracking-[0.2em] text-gray-400 dark:text-neutral-600 font-bold !important;
}

.book-progress-percent {
  /* 阅读进度百分比样式 */
  @apply text-[10px] font-mono font-medium text-neutral-600 dark:text-neutral-400 !important;
}

.book-progress-bar {
  @apply w-full h-[1.5px] bg-gray-100 dark:bg-neutral-900 relative rounded-full overflow-hidden !important;
}

.book-progress-inner {
  @apply absolute left-0 top-0 h-full bg-black dark:bg-white transition-all duration-1000 ease-out !important;
}



/* ============================================================
   ARTALK 极致简约质感定制 (V2.6)
   ============================================================ */

:root {
  --at-color-main: #000 !important;
  --at-color-font: #111111 !important; 
  --at-color-bg: transparent !important;
  --at-color-border: #f5f5f5 !important;
  --at-color-grey: #a0a0a0 !important;
  --at-color-ot-bg: #fafafa !important;
}

.dark {
  --at-color-main: #fff !important;
  --at-color-font: #f0f0f0 !important; 
  --at-color-border: #1a1a1a !important;
  --at-color-grey: #666 !important;
  --at-color-ot-bg: #141414 !important;
}

.artalk .atk-main-editor {
  @apply border border-gray-100 dark:border-neutral-900 rounded-md mb-8 bg-gray-50/40 dark:bg-neutral-900/10 p-5 transition-all duration-500 !important;
  box-shadow: 0 4px 20px -10px rgba(0,0,0,0.05) !important;
}

.artalk .atk-main-editor:focus-within {
  @apply border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900/30 !important;
}

.artalk .atk-header input {
  @apply bg-transparent border-b border-gray-100 dark:border-neutral-800 rounded-none py-3 px-0 transition-all duration-500 focus:border-black dark:focus:border-white font-sans font-medium !important;
  font-size: 14.5px !important; 
  letter-spacing: 0.05em !important;
}

.artalk .atk-textarea {
  @apply bg-transparent font-light text-[16px] !important;
  border: none !important;
  padding: 15px 0 !important;
  line-height: 1.8 !important;
}

.artalk .atk-nick, 
.artalk .atk-nick a, 
.artalk .atk-quote .atk-nick, 
.artalk .atk-reply-to .atk-nick {
  font-family: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", -apple-system, sans-serif !important;
  font-size: 14px !important; 
  font-weight: 700 !important;
  text-decoration: none !important;
  @apply text-neutral-500 dark:text-neutral-400 tracking-tight transition-colors !important;
}

.artalk .atk-content {
  @apply font-normal text-[16.5px] leading-relaxed mt-2 !important;
  color: var(--at-color-font) !important;
  opacity: 1 !important;
}

.artalk .atk-comment-wrap {
  @apply border-none mb-0 border-b border-gray-50 dark:border-neutral-900/40 !important;
  padding-top: 0.75rem !important; 
  padding-bottom: 0.75rem !important;
}

.artalk .atk-actions {
  display: flex !important;
  visibility: visible !important;
  @apply mt-2 gap-6 items-center !important;
  opacity: 0.6;
}

.artalk .atk-comment-wrap:hover .atk-actions {
  opacity: 1;
}

.artalk .atk-actions .atk-action-reply,
.artalk .atk-actions .atk-action-like,
.artalk .atk-actions .atk-reply,
.artalk .atk-actions .atk-like {
  display: inline-flex !important;
  align-items: center !important;
  @apply gap-1.5 text-[10px] uppercase tracking-[0.15em] font-bold text-neutral-400 hover:text-black dark:hover:text-white transition-colors cursor-pointer !important;
}

.artalk .atk-send-btn {
  @apply bg-black dark:bg-white text-white dark:text-black rounded-sm px-10 py-3 text-[11px] tracking-[0.4em] uppercase font-bold transition-all duration-500 hover:opacity-75 !important;
  border: none !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
  min-width: 120px;
}

.artalk .atk-meta {
  @apply text-[9px] uppercase tracking-[0.2em] text-neutral-300 dark:text-neutral-700 mt-1 font-light !important;
}

.artalk .atk-footer, 
.artalk .atk-brand, 
.artalk .atk-v-badge,
.artalk .atk-badge-m {
  display: none !important;
}

.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }