@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-white dark:bg-[#0a0a0a] overflow-x-hidden font-sans;
  }
  h1, h2, h3, .serif {
    font-family: 'Cormorant Garamond', serif;
  }
}

/* ============================================================
   MARKDOWN 排版修正
   ============================================================ */

.prose img {
  display: inline-block !important;
  margin-top: 0.2rem !important;
  margin-bottom: 0.2rem !important;
  margin-left: 0.125rem !important;
  margin-right: 0.125rem !important;
  vertical-align: middle;
  border-radius: 2px;
}

/* ============================================================
   极简图书展示架 (Book Shelf)
   ============================================================ */

.book-shelf {
  /* 使用 -mx-6 和 px-6 确保滚动区域占满屏幕宽度，同时卡片与页面文字对齐 */
  @apply flex gap-6 md:gap-10 mb-16 overflow-x-auto no-scrollbar pb-6 -mx-6 px-6 snap-x snap-mandatory !important;
  -webkit-overflow-scrolling: touch;
}

.book-card {
  /* 调整移动端宽度，确保在窄屏下也能完整看到第一张并露出第二张边缘 */
  @apply flex-none w-[140px] md:w-[160px] snap-start !important;
}

.book-cover-wrapper {
  @apply relative aspect-[3/4.2] mb-4 overflow-hidden rounded-sm bg-gray-50 dark:bg-neutral-900 border border-gray-100 dark:border-neutral-800 transition-all duration-500 group-hover:shadow-xl group-hover:-translate-y-1.5 !important;
}

.book-cover-img {
  @apply w-full h-full object-cover opacity-100 filter-none transition-all duration-700 !important;
  filter: none !important; 
  margin: 0 !important; /* 覆盖 prose img 的 margin */
}

.book-title {
  @apply font-serif font-semibold text-[15px] md:text-[16px] text-neutral-900 dark:text-neutral-100 leading-tight mb-1.5 truncate tracking-tight !important;
}

.book-meta {
  @apply text-[12px] md:text-[13px] tracking-normal text-gray-500 dark:text-neutral-400 font-normal leading-snug mb-3 !important;
}

.book-progress-info {
  @apply flex items-center justify-between mb-1.5 px-0.5 !important;
}

.book-progress-label {
  @apply text-[9px] uppercase tracking-[0.2em] text-gray-400 dark:text-neutral-600 font-bold !important;
}

.book-progress-percent {
  @apply text-[10px] font-mono font-medium text-neutral-600 dark:text-neutral-400 !important;
}

.book-progress-bar {
  @apply w-full h-[1.5px] bg-gray-100 dark:bg-neutral-900 relative rounded-full overflow-hidden !important;
}

.book-progress-inner {
  @apply absolute left-0 top-0 h-full bg-black dark:bg-white transition-all duration-1000 ease-out !important;
}

/* ============================================================
   ARTALK 极致简约质感定制
   ============================================================ */

:root {
  --at-color-main: #000 !important;
  --at-color-font: #111111 !important; 
  --at-color-bg: transparent !important;
  --at-color-border: #f5f5f5 !important;
  --at-color-grey: #a0a0a0 !important;
  --at-color-ot-bg: #fafafa !important;
}

.dark {
  --at-color-main: #fff !important;
  --at-color-font: #f0f0f0 !important; 
  --at-color-border: #1a1a1a !important;
  --at-color-grey: #666 !important;
  --at-color-ot-bg: #141414 !important;
}

.artalk .atk-main-editor {
  @apply border border-gray-100 dark:border-neutral-900 rounded-md mb-8 bg-gray-50/40 dark:bg-neutral-900/10 p-5 transition-all duration-500 !important;
  box-shadow: 0 4px 20px -10px rgba(0,0,0,0.05) !important;
}

.artalk .atk-header input {
  @apply bg-transparent border-b border-gray-100 dark:border-neutral-800 rounded-none py-3 px-0 transition-all duration-500 focus:border-black dark:focus:border-white font-sans font-medium !important;
  font-size: 14.5px !important; 
}

.artalk .atk-textarea {
  @apply bg-transparent font-light text-[16px] !important;
  border: none !important;
}

.artalk .atk-send-btn {
  @apply bg-black dark:bg-white text-white dark:text-black rounded-sm px-10 py-3 text-[11px] tracking-[0.4em] uppercase font-bold transition-all duration-500 hover:opacity-75 !important;
  border: none !important;
}

.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }